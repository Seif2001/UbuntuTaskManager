<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Functions and structs related to process information"><meta name="keywords" content="rust, rustlang, rust-lang, process"><title>procfs::process - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" href="../../normalize.css"><link rel="stylesheet" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" href="../../ayu.css" disabled><link rel="stylesheet" href="../../dark.css" disabled><link rel="stylesheet" href="../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../storage.js"></script><script defer src="../../main.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../procfs/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div></a><h2 class="location"></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../../procfs/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div></a><h2 class="location"><a href="#">Module process</a></h2><div class="sidebar-elems"><section><div class="block"><ul><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Definitions</a></li></ul></div></section></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../procfs/index.html"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><button type="button">?</button></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../wheel.svg"></a></div></div></form></nav></div><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn"><span class="in-band">Module <a href="../index.html">procfs</a>::<wbr><a class="mod" href="#">process</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../src/procfs/process/mod.rs.html#1-1799">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Functions and structs related to process information</p>
<p>The primary source of data for functions in this module is the files in a <code>/proc/&lt;pid&gt;/</code>
directory.  If you have a process ID, you can use
<a href="struct.Process.html#method.new"><code>Process::new(pid)</code></a>, otherwise you can get a
list of all running processes using <a href="fn.all_processes.html"><code>all_processes()</code></a>.</p>
<p>In case you have procfs filesystem mounted to a location other than <code>/proc</code>,
use <a href="struct.Process.html#method.new_with_root"><code>Process::new_with_root()</code></a>.</p>
<h2 id="examples"><a href="#examples">Examples</a></h2>
<p>Here’s a small example that prints out all processes that are running on the same tty as the calling
process.  This is very similar to what “ps” does in its default mode.  You can run this example
yourself with:</p>
<blockquote>
<p>cargo run –example=ps</p>
</blockquote>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>me = procfs::process::Process::myself().unwrap();
<span class="kw">let </span>me_stat = me.stat().unwrap();
<span class="kw">let </span>tps = procfs::ticks_per_second();

<span class="macro">println!</span>(<span class="string">&quot;{: &gt;10} {: &lt;8} {: &gt;8} {}&quot;</span>, <span class="string">&quot;PID&quot;</span>, <span class="string">&quot;TTY&quot;</span>, <span class="string">&quot;TIME&quot;</span>, <span class="string">&quot;CMD&quot;</span>);

<span class="kw">let </span>tty = <span class="macro">format!</span>(<span class="string">&quot;pty/{}&quot;</span>, me_stat.tty_nr().<span class="number">1</span>);
<span class="kw">for </span>prc <span class="kw">in </span>procfs::process::all_processes().unwrap() {
    <span class="kw">if let </span><span class="prelude-val">Ok</span>(stat) = prc.unwrap().stat() {
        <span class="kw">if </span>stat.tty_nr == me_stat.tty_nr {
            <span class="comment">// total_time is in seconds
            </span><span class="kw">let </span>total_time =
                (stat.utime + stat.stime) <span class="kw">as </span>f32 / (tps <span class="kw">as </span>f32);
            <span class="macro">println!</span>(
                <span class="string">&quot;{: &gt;10} {: &lt;8} {: &gt;8} {}&quot;</span>,
                stat.pid, tty, total_time, stat.comm
            );
        }
    }
}</code></pre></div>
<p>Here’s a simple example of how you could get the total memory used by the current process.
There are several ways to do this.  For a longer example, see the <code>examples/self_memory.rs</code>
file in the git repository.  You can run this example with:</p>
<blockquote>
<p>cargo run –example=self_memory</p>
</blockquote>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>me = Process::myself().unwrap();
<span class="kw">let </span>me_stat = me.stat().unwrap();
<span class="kw">let </span>page_size = procfs::page_size();

<span class="macro">println!</span>(<span class="string">&quot;== Data from /proc/self/stat:&quot;</span>);
<span class="macro">println!</span>(<span class="string">&quot;Total virtual memory used: {} bytes&quot;</span>, me_stat.vsize);
<span class="macro">println!</span>(<span class="string">&quot;Total resident set: {} pages ({} bytes)&quot;</span>, me_stat.rss, me_stat.rss <span class="kw">as </span>u64 * page_size);</code></pre></div>
</div></details><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.CoredumpFlags.html" title="procfs::process::CoredumpFlags struct">CoredumpFlags</a></div><div class="item-right docblock-short">See the <a href="struct.Process.html#method.coredump_filter">coredump_filter()</a> method.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.FDInfo.html" title="procfs::process::FDInfo struct">FDInfo</a></div><div class="item-right docblock-short">See the <a href="struct.Process.html#method.fd" title="Process::fd()">Process::fd()</a> method</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.FDPermissions.html" title="procfs::process::FDPermissions struct">FDPermissions</a></div><div class="item-right docblock-short">The mode (read/write permissions) for an open file descriptor</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.FDsIter.html" title="procfs::process::FDsIter struct">FDsIter</a></div><div class="item-right docblock-short">The result of <a href="struct.Process.html#method.fd" title="Process::fd"><code>Process::fd</code></a>, iterates over all fds in a process</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Io.html" title="procfs::process::Io struct">Io</a></div><div class="item-right docblock-short">This struct contains I/O statistics for the process, built from <code>/proc/&lt;pid&gt;/io</code></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Limit.html" title="procfs::process::Limit struct">Limit</a></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Limits.html" title="procfs::process::Limits struct">Limits</a></div><div class="item-right docblock-short">Process limits</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.MMPermissions.html" title="procfs::process::MMPermissions struct">MMPermissions</a></div><div class="item-right docblock-short">The permissions a process has on memory map entries.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.MMapExtension.html" title="procfs::process::MMapExtension struct">MMapExtension</a></div><div class="item-right docblock-short">Represents the information about a specific mapping as presented in /proc/&lt;pid&gt;/smaps</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.MemoryMap.html" title="procfs::process::MemoryMap struct">MemoryMap</a></div><div class="item-right docblock-short">Represents an entry in a <code>/proc/&lt;pid&gt;/maps</code> or <code>/proc/&lt;pid&gt;/smaps</code> file.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.MemoryMaps.html" title="procfs::process::MemoryMaps struct">MemoryMaps</a></div><div class="item-right docblock-short">Represents all entries in a <code>/proc/&lt;pid&gt;/maps</code> or <code>/proc/&lt;pid&gt;/smaps</code> file.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.MemoryPageFlags.html" title="procfs::process::MemoryPageFlags struct">MemoryPageFlags</a></div><div class="item-right docblock-short">Represents the fields and flags in a page table entry for a memory page.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.MountInfo.html" title="procfs::process::MountInfo struct">MountInfo</a></div><div class="item-right docblock-short">Information about a specific mount in a process’s mount namespace.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.MountNFSStatistics.html" title="procfs::process::MountNFSStatistics struct">MountNFSStatistics</a></div><div class="item-right docblock-short">Only NFS mounts provide additional statistics in <code>MountStat</code> entries.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.MountStat.html" title="procfs::process::MountStat struct">MountStat</a></div><div class="item-right docblock-short">Mount information from <code>/proc/&lt;pid&gt;/mountstats</code>.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.NFSByteCounter.html" title="procfs::process::NFSByteCounter struct">NFSByteCounter</a></div><div class="item-right docblock-short">Represents NFS data from <code>/proc/&lt;pid&gt;/mountstats</code> under the section <code>bytes</code>.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.NFSEventCounter.html" title="procfs::process::NFSEventCounter struct">NFSEventCounter</a></div><div class="item-right docblock-short">Represents NFS data from <code>/proc/&lt;pid&gt;/mountstats</code> under the section <code>events</code>.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.NFSOperationStat.html" title="procfs::process::NFSOperationStat struct">NFSOperationStat</a></div><div class="item-right docblock-short">Represents NFS data from <code>/proc/&lt;pid&gt;/mountstats</code> under the section of <code>per-op statistics</code>.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.NFSServerCaps.html" title="procfs::process::NFSServerCaps struct">NFSServerCaps</a></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Namespace.html" title="procfs::process::Namespace struct">Namespace</a></div><div class="item-right docblock-short">Information about a namespace</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.PageMap.html" title="procfs::process::PageMap struct">PageMap</a></div><div class="item-right docblock-short">Parses page table entries accessing <code>/proc/&lt;pid&gt;/pagemap</code>.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Pfn.html" title="procfs::process::Pfn struct">Pfn</a></div><div class="item-right docblock-short">A Page Frame Number, representing a 4 kiB physical memory page</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Process.html" title="procfs::process::Process struct">Process</a></div><div class="item-right docblock-short">Represents a process in <code>/proc/&lt;pid&gt;</code>.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ProcessesIter.html" title="procfs::process::ProcessesIter struct">ProcessesIter</a></div><div class="item-right docblock-short">An iterator over all processes in the system.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Schedstat.html" title="procfs::process::Schedstat struct">Schedstat</a></div><div class="item-right docblock-short">Provides scheduler statistics of the process, based on the <code>/proc/&lt;pid&gt;/schedstat</code> file.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SmapsRollup.html" title="procfs::process::SmapsRollup struct">SmapsRollup</a></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Stat.html" title="procfs::process::Stat struct">Stat</a></div><div class="item-right docblock-short">Status information about the process, based on the <code>/proc/&lt;pid&gt;/stat</code> file.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StatFlags.html" title="procfs::process::StatFlags struct">StatFlags</a></div><div class="item-right docblock-short">Kernel flags for a process</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.StatM.html" title="procfs::process::StatM struct">StatM</a></div><div class="item-right docblock-short">Provides information about memory usage, measured in pages.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Status.html" title="procfs::process::Status struct">Status</a></div><div class="item-right docblock-short">Status information about the process, based on the <code>/proc/&lt;pid&gt;/status</code> file.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SwapPageFlags.html" title="procfs::process::SwapPageFlags struct">SwapPageFlags</a></div><div class="item-right docblock-short">Represents the fields and flags in a page table entry for a swapped page.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Task.html" title="procfs::process::Task struct">Task</a></div><div class="item-right docblock-short">A task (aka Thread) inside of a <a href="struct.Process.html"><code>Process</code></a></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.TasksIter.html" title="procfs::process::TasksIter struct">TasksIter</a></div><div class="item-right docblock-short">The result of <a href="struct.Process.html#method.tasks" title="Process::tasks"><code>Process::tasks</code></a>, iterates over all tasks in a process</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.VmFlags.html" title="procfs::process::VmFlags struct">VmFlags</a></div><div class="item-right docblock-short">Represents the kernel flags associated with the virtual memory area.
The names of these flags are just those you’ll find in the man page, but in upper case.</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.FDTarget.html" title="procfs::process::FDTarget enum">FDTarget</a></div><div class="item-right docblock-short">Describes a file descriptor opened by a process.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.LimitValue.html" title="procfs::process::LimitValue enum">LimitValue</a></div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.MMapPath.html" title="procfs::process::MMapPath enum">MMapPath</a></div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.MountOptFields.html" title="procfs::process::MountOptFields enum">MountOptFields</a></div><div class="item-right docblock-short">Optional fields used in <a href="struct.MountInfo.html" title="MountInfo">MountInfo</a></div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.PageInfo.html" title="procfs::process::PageInfo enum">PageInfo</a></div><div class="item-right docblock-short">Represents a page table entry in <code>/proc/&lt;pid&gt;/pagemap</code>.</div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.ProcState.html" title="procfs::process::ProcState enum">ProcState</a></div><div class="item-right docblock-short">Represents the state of a process.</div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.all_processes.html" title="procfs::process::all_processes fn">all_processes</a></div><div class="item-right docblock-short">Return a iterator of all processes</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.all_processes_with_root.html" title="procfs::process::all_processes_with_root fn">all_processes_with_root</a></div><div class="item-right docblock-short">Return a list of all processes based on a specified <code>/proc</code> path</div></div></div><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="type" href="type.NFSPerOpStats.html" title="procfs::process::NFSPerOpStats type">NFSPerOpStats</a></div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="procfs" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.65.0" ></div></body></html>