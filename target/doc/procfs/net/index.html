<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Information about the networking layer."><meta name="keywords" content="rust, rustlang, rust-lang, net"><title>procfs::net - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" href="../../normalize.css"><link rel="stylesheet" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" href="../../ayu.css" disabled><link rel="stylesheet" href="../../dark.css" disabled><link rel="stylesheet" href="../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../storage.js"></script><script defer src="../../main.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../procfs/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div></a><h2 class="location"></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../../procfs/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div></a><h2 class="location"><a href="#">Module net</a></h2><div class="sidebar-elems"><section><div class="block"><ul><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#functions">Functions</a></li></ul></div></section></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../procfs/index.html"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><button type="button">?</button></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../wheel.svg"></a></div></div></form></nav></div><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn"><span class="in-band">Module <a href="../index.html">procfs</a>::<wbr><a class="mod" href="#">net</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../src/procfs/net.rs.html#3-861">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Information about the networking layer.</p>
<p>This module corresponds to the <code>/proc/net</code> directory and contains various information about the
networking layer.</p>
<h2 id="example"><a href="#example">Example</a></h2>
<p>Here’s an example that will print out all of the open and listening TCP sockets, and their
corresponding processes, if know.  This mimics the “netstat” utility, but for TCP only.  You
can run this example yourself with:</p>
<blockquote>
<p>cargo run –example=netstat</p>
</blockquote>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>all_procs = procfs::process::all_processes().unwrap();

<span class="comment">// build up a map between socket inodes and process stat info:
</span><span class="kw">let </span><span class="kw-2">mut </span>map: HashMap&lt;u64, Stat&gt; = HashMap::new();
<span class="kw">for </span>p <span class="kw">in </span>all_procs {
    <span class="kw">let </span>process = p.unwrap();
    <span class="kw">if let </span>(<span class="prelude-val">Ok</span>(stat), <span class="prelude-val">Ok</span>(fds)) = (process.stat(), process.fd()) {
        <span class="kw">for </span>fd <span class="kw">in </span>fds {
            <span class="kw">if let </span>FDTarget::Socket(inode) = fd.unwrap().target {
                map.insert(inode, stat.clone());
            }
        }
    }
}

<span class="comment">// get the tcp table
</span><span class="kw">let </span>tcp = procfs::net::tcp().unwrap();
<span class="kw">let </span>tcp6 = procfs::net::tcp6().unwrap();
<span class="macro">println!</span>(<span class="string">&quot;{:&lt;26} {:&lt;26} {:&lt;15} {:&lt;8} {}&quot;</span>, <span class="string">&quot;Local address&quot;</span>, <span class="string">&quot;Remote address&quot;</span>, <span class="string">&quot;State&quot;</span>, <span class="string">&quot;Inode&quot;</span>, <span class="string">&quot;PID/Program name&quot;</span>);
<span class="kw">for </span>entry <span class="kw">in </span>tcp.into_iter().chain(tcp6) {
    <span class="comment">// find the process (if any) that has an open FD to this entry&#39;s inode
    </span><span class="kw">let </span>local_address = <span class="macro">format!</span>(<span class="string">&quot;{}&quot;</span>, entry.local_address);
    <span class="kw">let </span>remote_addr = <span class="macro">format!</span>(<span class="string">&quot;{}&quot;</span>, entry.remote_address);
    <span class="kw">let </span>state = <span class="macro">format!</span>(<span class="string">&quot;{:?}&quot;</span>, entry.state);
    <span class="kw">if let </span><span class="prelude-val">Some</span>(stat) = map.get(<span class="kw-2">&amp;</span>entry.inode) {
        <span class="macro">println!</span>(<span class="string">&quot;{:&lt;26} {:&lt;26} {:&lt;15} {:&lt;12} {}/{}&quot;</span>, local_address, remote_addr, state, entry.inode, stat.pid, stat.comm);
    } <span class="kw">else </span>{
        <span class="comment">// We might not always be able to find the process associated with this socket
        </span><span class="macro">println!</span>(<span class="string">&quot;{:&lt;26} {:&lt;26} {:&lt;15} {:&lt;12} -&quot;</span>, local_address, remote_addr, state, entry.inode);
    }
}</code></pre></div>
</div></details><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ARPEntry.html" title="procfs::net::ARPEntry struct">ARPEntry</a></div><div class="item-right docblock-short">An entry in the ARP table</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ARPFlags.html" title="procfs::net::ARPFlags struct">ARPFlags</a></div><div class="item-right docblock-short">Flags for ARP entries</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.ARPHardware.html" title="procfs::net::ARPHardware struct">ARPHardware</a></div><div class="item-right docblock-short">Hardware type for an ARP table entry.</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.DeviceStatus.html" title="procfs::net::DeviceStatus struct">DeviceStatus</a></div><div class="item-right docblock-short">General statistics for a network interface/device</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.RouteEntry.html" title="procfs::net::RouteEntry struct">RouteEntry</a></div><div class="item-right docblock-short">An entry in the ipv4 route table</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.TcpNetEntry.html" title="procfs::net::TcpNetEntry struct">TcpNetEntry</a></div><div class="item-right docblock-short">An entry in the TCP socket table</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.UdpNetEntry.html" title="procfs::net::UdpNetEntry struct">UdpNetEntry</a></div><div class="item-right docblock-short">An entry in the UDP socket table</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.UnixNetEntry.html" title="procfs::net::UnixNetEntry struct">UnixNetEntry</a></div><div class="item-right docblock-short">An entry in the Unix socket table</div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.TcpState.html" title="procfs::net::TcpState enum">TcpState</a></div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.UdpState.html" title="procfs::net::UdpState enum">UdpState</a></div></div><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.UnixState.html" title="procfs::net::UnixState enum">UnixState</a></div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.arp.html" title="procfs::net::arp fn">arp</a></div><div class="item-right docblock-short">Reads the ARP table</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.dev_status.html" title="procfs::net::dev_status fn">dev_status</a></div><div class="item-right docblock-short">Returns basic network device statistics for all interfaces</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.read_tcp_table.html" title="procfs::net::read_tcp_table fn">read_tcp_table</a></div><div class="item-right docblock-short">Reads TCP socket table from the provided <code>reader</code>.</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.read_udp_table.html" title="procfs::net::read_udp_table fn">read_udp_table</a></div><div class="item-right docblock-short">Reads UDP socket table from the provided <code>reader</code>.</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.route.html" title="procfs::net::route fn">route</a></div><div class="item-right docblock-short">Reads the ipv4 route table</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.tcp.html" title="procfs::net::tcp fn">tcp</a></div><div class="item-right docblock-short">Reads the tcp socket table</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.tcp6.html" title="procfs::net::tcp6 fn">tcp6</a></div><div class="item-right docblock-short">Reads the tcp6 socket table</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.udp.html" title="procfs::net::udp fn">udp</a></div><div class="item-right docblock-short">Reads the udp socket table</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.udp6.html" title="procfs::net::udp6 fn">udp6</a></div><div class="item-right docblock-short">Reads the udp6 socket table</div></div><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.unix.html" title="procfs::net::unix fn">unix</a></div><div class="item-right docblock-short">Reads the unix socket table</div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="procfs" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.65.0" ></div></body></html>